{"version":3,"file":"static/js/608.d09d9b56.chunk.js","mappings":"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","sources":["components/ReviewsMovie/ReviewsMovie.styled.js","components/ReviewsMovie/ReviewsMovie.jsx","services/MovieServices.js"],"sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const ReviewsList = styled.ul`\r\n  margin-top: 20px;\r\n`;\r\n\r\nexport const AuthorTitle = styled.h2`\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nexport const ReviewsItem = styled.li`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n   max-width: 1280px;\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n\r\n    margin: 0 auto;\r\n`;","import { useParams } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\nimport MovieServices from '../../services/MovieServices.js';\r\nimport {\r\n  ReviewsList,\r\n  AuthorTitle,\r\n  ReviewsItem,\r\n  Container,\r\n} from './ReviewsMovie.styled';\r\n\r\nconst ReviewsMovie = () => {\r\n  const { movieId } = useParams();\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  const movieServices = new MovieServices();\r\n\r\n  useEffect(() => {\r\n    onRequest(movieId);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const onRequest = async id => {\r\n    try {\r\n      const res = await movieServices.getCastOrReviewsMovie(id, 'reviews');\r\n      setReviews(res);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {reviews ? (\r\n        <Container>\r\n          <ReviewsList>\r\n            {reviews.map(({ author, content, id }) => {\r\n              return (\r\n                <ReviewsItem key={id}>\r\n                  <AuthorTitle>Author: {author}</AuthorTitle>\r\n                  <p>\r\n                    {' '}\r\n                    <b>Content:</b> {transformContent(content)}\r\n                  </p>\r\n                </ReviewsItem>\r\n              );\r\n            })}\r\n          </ReviewsList>\r\n        </Container>\r\n      ) : (\r\n        <p>No reviews found for this movie</p>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nfunction transformContent(str) {\r\n  if (str.length > 270) {\r\n    let newStr = str.slice(0, 270);\r\n    return `${newStr}...`;\r\n  }\r\n  return str;\r\n}\r\n\r\nexport default ReviewsMovie;\r\n","import axios from 'axios';\r\n\r\nclass MovieServices {\r\n  API_KEY = '8dbbaf50b58201a2d3381e6f92e0ca1f';\r\n  BASE_URL = 'https://api.themoviedb.org/3/';\r\n  BASE_URL_IMG = 'https://image.tmdb.org/t/p/w500';\r\n\r\n  getTrendingMovies = async () => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${this.BASE_URL}trending/movie/day?api_key=${this.API_KEY}`\r\n      );\r\n\r\n      return this._transformTrendingMovies(res.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  getMovieDetalis = async id => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${this.BASE_URL}movie/${id}?api_key=${this.API_KEY}&language=en-US`\r\n      );\r\n\r\n      return this._transformMovieDetalis(res.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n      return error;\r\n    }\r\n  };\r\n\r\n  getCastOrReviewsMovie = async (id, categorie) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${this.BASE_URL}movie/${id}/${categorie}?api_key=${this.API_KEY}&language=en-US`\r\n      );\r\n      if (categorie === 'credits') {\r\n        return this._transformCastMovie(res.data.cast);\r\n      }\r\n      if (categorie === 'reviews') {\r\n        if (!res.data.results.length) {\r\n          return null;\r\n        } else {\r\n          return this._transformReviewsMovie(res.data.results);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      return error;\r\n    }\r\n  };\r\n\r\n  getMovieSearch = async query => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${this.BASE_URL}search/movie?api_key=${this.API_KEY}&language=en-US&include_adult=false&query=${query}`\r\n      );\r\n\r\n      return this._transformMovie(res.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n      return error;\r\n    }\r\n  };\r\n\r\n  _transformMovie = movies => {\r\n    return movies.map(({ id, title, poster_path }) => {\r\n      if (!poster_path) {\r\n        return {\r\n          title,\r\n          image: null,\r\n          id,\r\n        };\r\n      }\r\n      return {\r\n        id,\r\n        title,\r\n        image: `${this.BASE_URL_IMG}${poster_path}`,\r\n      };\r\n    });\r\n  };\r\n\r\n  _transformMovieDetalis = ({\r\n    title,\r\n    poster_path,\r\n    overview,\r\n    genres,\r\n    vote_average,\r\n  }) => {\r\n    if (!poster_path) {\r\n      return {\r\n        title,\r\n        image: null,\r\n        overview,\r\n        genres,\r\n        userScore: vote_average,\r\n      };\r\n    }\r\n    return {\r\n      title,\r\n      image: `${this.BASE_URL_IMG}${poster_path}`,\r\n      overview,\r\n      genres,\r\n      userScore: vote_average,\r\n    };\r\n  };\r\n\r\n  _transformCastMovie = cast => {\r\n    return cast.map(({ character, name, profile_path, id }) => {\r\n      if (!profile_path) {\r\n        return {\r\n          character,\r\n          name,\r\n          id,\r\n          image: null,\r\n        };\r\n      }\r\n      return {\r\n        character,\r\n        name,\r\n        id,\r\n        image: `${this.BASE_URL_IMG}${profile_path}`,\r\n      };\r\n    });\r\n  };\r\n\r\n  _transformReviewsMovie = reviews => {\r\n    return reviews.map(({ author, id, content }) => {\r\n      return { author, id, content };\r\n    });\r\n  };\r\n\r\n  _transformTrendingMovies = movies => {\r\n    return movies.map(({ id, title, poster_path }) => {\r\n      return {\r\n        id,\r\n        title,\r\n        images: `${this.BASE_URL_IMG}${poster_path}`,\r\n      };\r\n    });\r\n  };\r\n}\r\n\r\nexport default MovieServices;"],"names":["ReviewsList","styled","ul","_templateObject","_taggedTemplateLiteral","AuthorTitle","h2","_templateObject2","ReviewsItem","li","_templateObject3","Container","div","_templateObject4","transformContent","str","length","newStr","slice","concat","movieId","useParams","_useState","useState","_useState2","_slicedToArray","reviews","setReviews","movieServices","MovieServices","useEffect","onRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","res","wrap","_context","prev","next","getCastOrReviewsMovie","sent","t0","console","log","stop","_x","apply","arguments","_jsx","_Fragment","children","map","_ref2","author","content","_jsxs","_createClass","_this","_classCallCheck","API_KEY","BASE_URL","BASE_URL_IMG","getTrendingMovies","axios","get","abrupt","_transformTrendingMovies","data","results","getMovieDetalis","_callee2","_context2","_transformMovieDetalis","_ref3","_callee3","categorie","_context3","_transformCastMovie","cast","_transformReviewsMovie","_x2","_x3","getMovieSearch","_ref4","_callee4","query","_context4","_transformMovie","_x4","movies","_ref5","title","poster_path","image","_ref6","overview","genres","vote_average","userScore","_ref7","character","name","profile_path","_ref8","_ref9","images"],"sourceRoot":""}