"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[962],{8526:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r,a,c,i,o=n(4165),s=n(5861),u=n(9439),p=n(7689),l=n(2791),v=n(8790),f=n(168),d=n(5867),h=d.ZP.ul(r||(r=(0,f.Z)(["\ndisplay: flex;\n    flex-wrap: wrap;\n    gap: 30px;\n    text-align: center;\n    justify-content: center;\n"]))),g=d.ZP.li(a||(a=(0,f.Z)(["\n  flex-basis: calc((100% - 60px) / 6);\n  width: 129px;\n  height: 246px;\n  display: flex;\n  flex-direction: column;\n  background-color: #f6f6f6;\n"]))),_=d.ZP.div(c||(c=(0,f.Z)(["\n  padding: 8px 10px;\n"]))),m=d.ZP.img(i||(i=(0,f.Z)(["\n  margin: 0 auto;\nbackground-size: cover;\nbackground-position: center;\n"]))),x=n.p+"static/media/no_image_available.d09e503817275d6b9eb4.jpg",Z=n(184),b=function(){var e=(0,p.UO)().movieId,t=(0,l.useState)([]),n=(0,u.Z)(t,2),r=n[0],a=n[1],c=new v.Z;(0,l.useEffect)((function(){i(e)}),[]);var i=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.getCastOrReviewsMovie(t,"credits");case 3:n=e.sent,a(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,Z.jsx)("div",{children:(0,Z.jsx)(h,{children:r.map((function(e){var t=e.image,n=e.name,r=e.character,a=e.id;return(0,Z.jsxs)(g,{children:[t?(0,Z.jsx)(m,{width:150,src:t,alt:n}):(0,Z.jsx)(m,{width:150,src:x,alt:"not found img"}),(0,Z.jsxs)(_,{children:[(0,Z.jsx)("p",{children:n}),(0,Z.jsx)("p",{children:r})]})]},a)}))})})}},8790:function(e,t,n){var r=n(4165),a=n(5861),c=n(3144),i=n(5671),o=n(1243),s=(0,c.Z)((function e(){var t=this;(0,i.Z)(this,e),this.API_KEY="8dbbaf50b58201a2d3381e6f92e0ca1f",this.BASE_URL="https://api.themoviedb.org/3/",this.BASE_URL_IMG="https://image.tmdb.org/t/p/w500",this.getTrendingMovies=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(t.BASE_URL,"trending/movie/day?api_key=").concat(t.API_KEY));case 3:return n=e.sent,e.abrupt("return",t._transformTrendingMovies(n.data.results));case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.getMovieDetalis=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(t.BASE_URL,"movie/").concat(n,"?api_key=").concat(t.API_KEY,"&language=en-US"));case 3:return a=e.sent,e.abrupt("return",t._transformMovieDetalis(a.data));case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getCastOrReviewsMovie=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,a){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(t.BASE_URL,"movie/").concat(n,"/").concat(a,"?api_key=").concat(t.API_KEY,"&language=en-US"));case 3:if(c=e.sent,"credits"!==a){e.next=6;break}return e.abrupt("return",t._transformCastMovie(c.data.cast));case 6:if("reviews"!==a){e.next=12;break}if(c.data.results.length){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",t._transformReviewsMovie(c.data.results));case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),this.getMovieSearch=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(t.BASE_URL,"search/movie?api_key=").concat(t.API_KEY,"&language=en-US&include_adult=false&query=").concat(n));case 3:return a=e.sent,e.abrupt("return",t._transformMovie(a.data.results));case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this._transformMovie=function(e){return e.map((function(e){var n=e.id,r=e.title,a=e.poster_path;return a?{id:n,title:r,image:"".concat(t.BASE_URL_IMG).concat(a)}:{title:r,image:null,id:n}}))},this._transformMovieDetalis=function(e){var n=e.title,r=e.poster_path,a=e.overview,c=e.genres,i=e.vote_average;return r?{title:n,image:"".concat(t.BASE_URL_IMG).concat(r),overview:a,genres:c,userScore:i}:{title:n,image:null,overview:a,genres:c,userScore:i}},this._transformCastMovie=function(e){return e.map((function(e){var n=e.character,r=e.name,a=e.profile_path,c=e.id;return a?{character:n,name:r,id:c,image:"".concat(t.BASE_URL_IMG).concat(a)}:{character:n,name:r,id:c,image:null}}))},this._transformReviewsMovie=function(e){return e.map((function(e){return{author:e.author,id:e.id,content:e.content}}))},this._transformTrendingMovies=function(e){return e.map((function(e){var n=e.id,r=e.title,a=e.poster_path;return{id:n,title:r,images:"".concat(t.BASE_URL_IMG).concat(a)}}))}}));t.Z=s}}]);
//# sourceMappingURL=962.0df926a1.chunk.js.map